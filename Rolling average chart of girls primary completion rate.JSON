{
  "config": {
    "view": {
      "continuousWidth": 300,
      "continuousHeight": 300,
      "strokeOpacity": 0
    }
  },
  "data": {"name": "data-7c47be700e63c6822a4159917c29365a"},
  "mark": {"type": "line", "strokeWidth": 3},
  "encoding": {
    "color": {
      "field": "category",
      "legend": {
        "labelExpr": "datum.label == 'pct_improved_rolling' ? 'Improved' : 'Declined'",
        "orient": "top-right",
        "title": "", "offset": "7"
      },
      "scale": {
        "domain": ["pct_improved_rolling", "pct_declined_rolling"],
        "range": ["#1e8449", "#ec7063"]
      },
      "type": "nominal"
    },
    "x": {
      "axis": {"grid": false, "labelAngle": -45},
      "field": "year_end",
      "title": "",
      "type": "ordinal"
    },
    "y": {
      "field": "percentage",
      "scale": {"domain": [0, 100]},
      "title": "",
      "type": "quantitative"
    }
  },
  "height": 400,
  "title": {
    "text": "Girls' Primary Education Completion Rate: % of Countries Improving vs Declining",
    "subtitle": "Year-over-year changes, centered 3-year rolling average | Source: World Bank",
    "anchor": "start"
  },
  "transform": [
    {
      "fold": ["pct_improved_rolling", "pct_declined_rolling"],
      "as": ["category", "percentage"]
    }
  ],
  "width": 800,
  "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json",
  "datasets": {
    "data-7c47be700e63c6822a4159917c29365a": [
      {
        "year_start": 2000,
        "year_end": 2001,
        "total_countries": 71,
        "improved": 49,
        "declined": 22,
        "unchanged": 0,
        "pct_improved": 69.01408450704226,
        "pct_declined": 30.985915492957744,
        "net_improvement": 27,
        "improved_rolling": null,
        "declined_rolling": null,
        "pct_improved_rolling": null,
        "pct_declined_rolling": null
      },
      {
        "year_start": 2001,
        "year_end": 2002,
        "total_countries": 69,
        "improved": 56,
        "declined": 13,
        "unchanged": 0,
        "pct_improved": 81.15942028985508,
        "pct_declined": 18.84057971014493,
        "net_improvement": 43,
        "improved_rolling": 49.666666666666664,
        "declined_rolling": 20,
        "pct_improved_rolling": 71.3138735796421,
        "pct_declined_rolling": 28.686126420357898
      },
      {
        "year_start": 2002,
        "year_end": 2003,
        "total_countries": 69,
        "improved": 44,
        "declined": 25,
        "unchanged": 0,
        "pct_improved": 63.76811594202898,
        "pct_declined": 36.231884057971016,
        "net_improvement": 19,
        "improved_rolling": 49.666666666666664,
        "declined_rolling": 18.333333333333332,
        "pct_improved_rolling": 73.05665349143611,
        "pct_declined_rolling": 26.943346508563902
      },
      {
        "year_start": 2003,
        "year_end": 2004,
        "total_countries": 66,
        "improved": 49,
        "declined": 17,
        "unchanged": 0,
        "pct_improved": 74.24242424242425,
        "pct_declined": 25.757575757575758,
        "net_improvement": 32,
        "improved_rolling": 47.333333333333336,
        "declined_rolling": 22,
        "pct_improved_rolling": 68.37794261856203,
        "pct_declined_rolling": 31.622057381437966
      },
      {
        "year_start": 2004,
        "year_end": 2005,
        "total_countries": 73,
        "improved": 49,
        "declined": 24,
        "unchanged": 0,
        "pct_improved": 67.12328767123287,
        "pct_declined": 32.87671232876712,
        "net_improvement": 25,
        "improved_rolling": 46.333333333333336,
        "declined_rolling": 24,
        "pct_improved_rolling": 65.84336515843366,
        "pct_declined_rolling": 33.700013837000135
      },
      {
        "year_start": 2005,
        "year_end": 2006,
        "total_countries": 73,
        "improved": 41,
        "declined": 31,
        "unchanged": 1,
        "pct_improved": 56.16438356164384,
        "pct_declined": 42.465753424657535,
        "net_improvement": 10,
        "improved_rolling": 44.666666666666664,
        "declined_rolling": 26,
        "pct_improved_rolling": 62.664517861939295,
        "pct_declined_rolling": 36.38866505506312
      },
      {
        "year_start": 2006,
        "year_end": 2007,
        "total_countries": 68,
        "improved": 44,
        "declined": 23,
        "unchanged": 1,
        "pct_improved": 64.70588235294117,
        "pct_declined": 33.82352941176471,
        "net_improvement": 21,
        "improved_rolling": 41.333333333333336,
        "declined_rolling": 27.333333333333332,
        "pct_improved_rolling": 59.69307371282187,
        "pct_declined_rolling": 39.36010920418055
      },
      {
        "year_start": 2007,
        "year_end": 2008,
        "total_countries": 67,
        "improved": 39,
        "declined": 28,
        "unchanged": 0,
        "pct_improved": 58.2089552238806,
        "pct_declined": 41.7910447761194,
        "net_improvement": 11,
        "improved_rolling": 44,
        "declined_rolling": 28,
        "pct_improved_rolling": 60.89031171259913,
        "pct_declined_rolling": 38.6194922089695
      },
      {
        "year_start": 2008,
        "year_end": 2009,
        "total_countries": 82,
        "improved": 49,
        "declined": 33,
        "unchanged": 0,
        "pct_improved": 59.756097560975604,
        "pct_declined": 40.243902439024396,
        "net_improvement": 16,
        "improved_rolling": 46,
        "declined_rolling": 31,
        "pct_improved_rolling": 59.64688751365126,
        "pct_declined_rolling": 40.35311248634874
      },
      {
        "year_start": 2009,
        "year_end": 2010,
        "total_countries": 82,
        "improved": 50,
        "declined": 32,
        "unchanged": 0,
        "pct_improved": 60.97560975609756,
        "pct_declined": 39.02439024390244,
        "net_improvement": 18,
        "improved_rolling": 44.666666666666664,
        "declined_rolling": 35,
        "pct_improved_rolling": 55.799457994579946,
        "pct_declined_rolling": 44.20054200542006
      },
      {
        "year_start": 2010,
        "year_end": 2011,
        "total_countries": 75,
        "improved": 35,
        "declined": 40,
        "unchanged": 0,
        "pct_improved": 46.666666666666664,
        "pct_declined": 53.333333333333336,
        "net_improvement": -5,
        "improved_rolling": 44.666666666666664,
        "declined_rolling": 34.333333333333336,
        "pct_improved_rolling": 56.04536786108602,
        "pct_declined_rolling": 43.54310950516913
      },
      {
        "year_start": 2011,
        "year_end": 2012,
        "total_countries": 81,
        "improved": 49,
        "declined": 31,
        "unchanged": 1,
        "pct_improved": 60.49382716049383,
        "pct_declined": 38.2716049382716,
        "net_improvement": 18,
        "improved_rolling": 42.333333333333336,
        "declined_rolling": 38,
        "pct_improved_rolling": 52.38683127572017,
        "pct_declined_rolling": 47.20164609053498
      },
      {
        "year_start": 2012,
        "year_end": 2013,
        "total_countries": 86,
        "improved": 43,
        "declined": 43,
        "unchanged": 0,
        "pct_improved": 50,
        "pct_declined": 50,
        "net_improvement": 0,
        "improved_rolling": 47.333333333333336,
        "declined_rolling": 36.333333333333336,
        "pct_improved_rolling": 56.21112068140493,
        "pct_declined_rolling": 42.98975978562542
      },
      {
        "year_start": 2013,
        "year_end": 2014,
        "total_countries": 86,
        "improved": 50,
        "declined": 35,
        "unchanged": 1,
        "pct_improved": 58.139534883720934,
        "pct_declined": 40.69767441860465,
        "net_improvement": 15,
        "improved_rolling": 46,
        "declined_rolling": 36.333333333333336,
        "pct_improved_rolling": 55.78335373317014,
        "pct_declined_rolling": 43.82904936760506
      },
      {
        "year_start": 2014,
        "year_end": 2015,
        "total_countries": 76,
        "improved": 45,
        "declined": 31,
        "unchanged": 0,
        "pct_improved": 59.210526315789465,
        "pct_declined": 40.78947368421053,
        "net_improvement": 14,
        "improved_rolling": 43.666666666666664,
        "declined_rolling": 37.333333333333336,
        "pct_improved_rolling": 53.75083340796689,
        "pct_declined_rolling": 45.86156969280831
      },
      {
        "year_start": 2015,
        "year_end": 2016,
        "total_countries": 82,
        "improved": 36,
        "declined": 46,
        "unchanged": 0,
        "pct_improved": 43.90243902439025,
        "pct_declined": 56.09756097560976,
        "net_improvement": -10,
        "improved_rolling": 42.333333333333336,
        "declined_rolling": 37.666666666666664,
        "pct_improved_rolling": 53.07017543859649,
        "pct_declined_rolling": 46.92982456140351
      },
      {
        "year_start": 2016,
        "year_end": 2017,
        "total_countries": 82,
        "improved": 46,
        "declined": 36,
        "unchanged": 0,
        "pct_improved": 56.09756097560976,
        "pct_declined": 43.90243902439025,
        "net_improvement": 10,
        "improved_rolling": 38.666666666666664,
        "declined_rolling": 42.666666666666664,
        "pct_improved_rolling": 47.5,
        "pct_declined_rolling": 52.5
      },
      {
        "year_start": 2017,
        "year_end": 2018,
        "total_countries": 80,
        "improved": 34,
        "declined": 46,
        "unchanged": 0,
        "pct_improved": 42.5,
        "pct_declined": 57.49999999999999,
        "net_improvement": -12,
        "improved_rolling": 40.333333333333336,
        "declined_rolling": 42.333333333333336,
        "pct_improved_rolling": 48.75732652675364,
        "pct_declined_rolling": 51.24267347324636
      },
      {
        "year_start": 2018,
        "year_end": 2019,
        "total_countries": 86,
        "improved": 41,
        "declined": 45,
        "unchanged": 0,
        "pct_improved": 47.674418604651166,
        "pct_declined": 52.32558139534884,
        "net_improvement": -4,
        "improved_rolling": 41.333333333333336,
        "declined_rolling": 41.666666666666664,
        "pct_improved_rolling": 49.736854394321476,
        "pct_declined_rolling": 50.263145605678524
      },
      {
        "year_start": 2019,
        "year_end": 2020,
        "total_countries": 83,
        "improved": 49,
        "declined": 34,
        "unchanged": 0,
        "pct_improved": 59.036144578313255,
        "pct_declined": 40.963855421686745,
        "net_improvement": 15,
        "improved_rolling": 44,
        "declined_rolling": 40,
        "pct_improved_rolling": 52.43765760717287,
        "pct_declined_rolling": 47.56234239282711
      },
      {
        "year_start": 2020,
        "year_end": 2021,
        "total_countries": 83,
        "improved": 42,
        "declined": 41,
        "unchanged": 0,
        "pct_improved": 50.602409638554214,
        "pct_declined": 49.39759036144578,
        "net_improvement": 1,
        "improved_rolling": 39.666666666666664,
        "declined_rolling": 40.666666666666664,
        "pct_improved_rolling": 48.990629183400266,
        "pct_declined_rolling": 51.009370816599734
      },
      {
        "year_start": 2021,
        "year_end": 2022,
        "total_countries": 75,
        "improved": 28,
        "declined": 47,
        "unchanged": 0,
        "pct_improved": 37.333333333333336,
        "pct_declined": 62.66666666666667,
        "net_improvement": -19,
        "improved_rolling": 36,
        "declined_rolling": 40.333333333333336,
        "pct_improved_rolling": 47.15228991081697,
        "pct_declined_rolling": 52.84771008918302
      },
      {
        "year_start": 2022,
        "year_end": 2023,
        "total_countries": 71,
        "improved": 38,
        "declined": 33,
        "unchanged": 0,
        "pct_improved": 53.52112676056338,
        "pct_declined": 46.478873239436616,
        "net_improvement": 5,
        "improved_rolling": 33,
        "declined_rolling": 32.333333333333336,
        "pct_improved_rolling": 52.2848200312989,
        "pct_declined_rolling": 47.7151799687011
      },
      {
        "year_start": 2023,
        "year_end": 2024,
        "total_countries": 50,
        "improved": 33,
        "declined": 17,
        "unchanged": 0,
        "pct_improved": 66,
        "pct_declined": 34,
        "net_improvement": 16,
        "improved_rolling": null,
        "declined_rolling": null,
        "pct_improved_rolling": null,
        "pct_declined_rolling": null
      }
    ]
  }
}